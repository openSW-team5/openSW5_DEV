{% set navbar_variant = 'back' %} {% set back_url = '/dashboard' %} {% extends "base.html" %} {% block content %}

<div
    x-data="{
    receiptType: new URLSearchParams(window.location.search).get('type') || 'expense',
    scrolled: false,
    showSuccess: false,
    showCategoryDropdown: false,
    receiptDate: '',
    receiptTime: '',
    store: '',
    category: 'ì‹ë¹„',
    categories: ['ì‹ë¹„', 'êµí†µ', 'ì‡¼í•‘', 'ì—¬ê°€', 'ì˜ë£Œ', 'ì£¼ê±°', 'í†µì‹ ', 'ê¸°íƒ€'],
    manualAmount: 0,
    products: [
      { id: 1, name: '', quantity: '', unitPrice: '', swipedLeft: false, touchStartX: 0 },
      { id: 2, name: '', quantity: '', unitPrice: '', swipedLeft: false, touchStartX: 0 },
      { id: 3, name: '', quantity: '', unitPrice: '', swipedLeft: false, touchStartX: 0 }
    ],
    nextId: 4,

    init() {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('from') !== 'ocr') return;

      const raw = sessionStorage.getItem('ocrResult');
      if (!raw) {
        console.warn('âŒ ocrResult ì—†ìŒ');
        return;
      }

      try {
        const ocr = JSON.parse(raw);
        console.log('ğŸ“¦ OCR RAW:', ocr);

        const result = ocr.images?.[0]?.receipt?.result;
        console.log('ğŸ§¾ receipt.result:', result);

        if (!result) return;

        if (result.storeInfo?.name?.text) {
          this.store = result.storeInfo.name.text;
        }

        if (result.paymentInfo?.date?.text) {
          const rawDate = result.paymentInfo.date.text;

          const m = rawDate.match(
            /(\d{2,4})[.\-/ë…„ ](\d{1,2})[.\-/ì›” ](\d{1,2})?/
          );

          if (m) {
            let year = m[1].length === 2 ? `20${m[1]}` : m[1];
            let month = m[2].padStart(2, '0');
            let day = (m[3] ?? '01').padStart(2, '0'); // ì¼ ì—†ìœ¼ë©´ 01

            this.receiptDate = `${year}-${month}-${day}`;
          } else {
            console.warn('âš ï¸ ë‚ ì§œ íŒŒì‹± ì‹¤íŒ¨:', rawDate);
          }
        }

        if (result.paymentInfo?.time?.text) {
          const m = result.paymentInfo.time.text.match(/(\d{2}):\s?(\d{2})/);
          if (m) this.receiptTime = `${m[1]}:${m[2]}`;
        }

        const items = result.subResults?.[0]?.items;
        if (Array.isArray(items)) {
          this.products = [];
          this.nextId = 1;

          items.forEach(item => {
  const qty = Number(item.count?.text || 1);
  const lineTotal = Number(item.price?.price?.formatted?.value || 0);

  const unit = qty > 0
    ? Math.round(lineTotal / qty)
    : lineTotal;

  this.products.push({
    id: this.nextId++,
    name: item.name?.text || '',
    quantity: qty,
    unitPrice: unit,   // âœ… ë‹¨ê°€ = ì´ì•¡ Ã· ìˆ˜ëŸ‰
    swipedLeft: false,
    touchStartX: 0
  });
});

          while (this.products.length < 3) {
            this.products.push({
              id: this.nextId++,
              name: '',
              quantity: '',
              unitPrice: '',
              swipedLeft: false,
              touchStartX: 0
            });
          }
        }

        sessionStorage.removeItem('ocrResult');
        console.log('âœ… OCR ìë™ ì…ë ¥ ì™„ë£Œ');

      } catch (e) {
        console.error('âŒ OCR íŒŒì‹± ì˜¤ë¥˜:', e);
      }
    },
    formatNumber(num) {
      return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    },
    subtotal(product) {
      const qty = Number(product.quantity) || 0;
      const price = Number(product.unitPrice) || 0;
      return qty * price;
    },
    get total() {
      return this.products.reduce((sum, product) => sum + this.subtotal(product), 0);
    },
    get formattedDateTime() {
      if (!this.receiptDate && !this.receiptTime) return '';
      return (this.receiptDate || '') + ' ' + (this.receiptTime || '');
    },
    addProduct() {
      this.products.push({ id: this.nextId++, name: '', quantity: '', unitPrice: '', swipedLeft: false, touchStartX: 0 });
    },
    removeProduct(id) {
      this.products = this.products.filter(p => p.id !== id);
    },
    async submitReceipt() {
      try {
        const payload = {
          type: this.receiptType,
          merchant: this.store,
          purchased_at: this.receiptDate,
          status: 'CONFIRMED'
        };

        if (this.receiptType === 'expense') {
          // Add category and items for expense
          payload.category = this.category;
          payload.items = this.products
            .filter(p => p.name && p.quantity && p.unitPrice)
            .map(p => ({
              name: p.name,
              qty: Number(p.quantity),
              price: Number(p.unitPrice),
              category: null
            }));
          payload.total = this.total;
        } else {
          // For income/transfer, use manual amount and create a single dummy item
          payload.total = Number(this.manualAmount) || 0;
          payload.items = [{
            name: this.receiptType === 'income' ? 'ìˆ˜ì…' : 'ì´ì²´',
            qty: 1,
            price: Number(this.manualAmount) || 0,
            category: null
          }];
        }

        console.log('Sending payload:', payload);
        const response = await fetch('/receipts/confirm', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });

        if (response.ok) {
          this.showSuccess = true;
        } else {
          const errorData = await response.json();
          console.error('API Error:', errorData);
          alert('ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + (errorData.detail || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'));
        }
      } catch (error) {
        console.error('Error submitting receipt:', error);
        alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
      }
    }
  }"
    x-ref="container"
    class="relative w-full h-screen pb-[100px]"
    :class="showSuccess ? 'overflow-hidden' : (receiptType === 'expense' ? 'overflow-y-auto' : 'overflow-hidden')"
    style="background: #ffffff; min-height: 800px">
    <!-- ì…ë ¥ í˜ì´ì§€ -->
    <div x-show="!showSuccess">
        <!-- ê±°ë˜ ìœ í˜• íƒ€ì´í‹€ (navbar ì•„ë˜) -->
        <div class="absolute w-full left-0 top-[110px] text-center z-20">
            <!-- ì§€ì¶œ -->
            <h2 x-show="receiptType === 'expense'" class="font-yidstreet font-bold text-2xl text-[#AF4C4E]">ì§€ì¶œ</h2>
            <!-- ìˆ˜ì… -->
            <h2 x-show="receiptType === 'income'" class="font-yidstreet font-bold text-2xl text-[#4CAF50]">ìˆ˜ì…</h2>
            <!-- ì´ì²´ -->
            <h2 x-show="receiptType === 'transfer'" class="font-yidstreet font-bold text-2xl text-[#878787]">ì´ì²´</h2>
        </div>

        <!-- íšŒì „ëœ ì¹´ë“œ ì´ë¯¸ì§€ (ìƒë‹¨) -->
        <div
            class="absolute left-[94px] transition-all duration-300"
            :class="scrolled ? 'top-[119px]' : 'top-[187px]'"
            :style="scrolled ? 'transform: scale(0.685)' : 'transform: scale(1)'">
            <svg width="251" height="202" viewBox="0 0 251 202" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_138_760)">
                    <rect
                        y="56.6814"
                        width="219"
                        height="150"
                        rx="11"
                        transform="rotate(-15 0 56.6814)"
                        fill="#B4DE00" />
                    <path
                        d="M112.996 161.175C112.232 160.761 111.601 160.234 111.103 159.594C110.601 158.938 110.279 158.345 110.137 157.816C109.991 157.271 109.963 156.591 110.054 155.776C110.145 154.961 110.31 154.005 110.55 152.91C110.785 151.799 111.078 150.586 111.431 149.271C111.779 147.94 112.173 146.589 112.613 145.216L113.939 141.122C114.42 139.773 114.906 138.509 115.398 137.328C112.466 139.214 110.353 140.854 109.059 142.249C107.778 143.624 106.78 144.648 106.067 145.32C105.353 145.992 104.724 146.402 104.179 146.548C103.281 146.788 102.681 146.347 102.38 145.225C101.951 143.621 102.256 141.426 103.296 138.637C104.379 135.752 105.766 133.774 107.455 132.702C109.161 131.626 111.083 130.527 113.223 129.404C115.374 128.26 117.633 127.165 119.999 126.118C125.132 123.849 129.999 122.098 134.602 120.865C139.861 119.456 143.354 119.053 145.08 119.656C146.615 120.19 147.824 121.172 148.705 122.603C149.132 123.297 149.461 124.076 149.693 124.942C149.925 125.808 149.743 126.828 149.147 128.002C148.562 129.155 147.684 130.336 146.512 131.544C144.312 133.852 141.251 136.219 137.329 138.645C139.875 138.461 141.695 138.549 142.788 138.909C143.893 139.249 144.72 139.672 145.268 140.178C145.812 140.669 146.208 141.379 146.458 142.309C146.703 143.223 146.555 144.276 146.015 145.47C145.476 146.663 144.606 147.875 143.407 149.108C142.223 150.336 140.754 151.554 138.998 152.764C137.259 153.969 135.323 155.115 133.191 156.202C128.751 158.491 123.982 160.319 118.882 161.686C116.669 162.279 114.707 162.108 112.996 161.175ZM121.554 139.52C120.266 144.334 119.836 147.543 120.266 149.146C120.464 149.884 121.033 150.471 121.975 150.906C122.86 151.322 123.695 151.424 124.481 151.214C125.267 151.003 126.124 150.739 127.053 150.422C127.977 150.088 128.92 149.724 129.88 149.329C130.839 148.934 131.777 148.52 132.692 148.086C133.607 147.652 134.411 147.221 135.104 146.795C136.639 145.851 137.337 145.122 137.2 144.609C136.951 143.679 135.454 143.255 132.708 143.338C130.479 143.419 128.41 143.716 126.502 144.227C125.764 144.425 125.196 144.422 124.798 144.22C124.396 144.001 124.143 143.699 124.04 143.314C123.932 142.913 124.015 142.453 124.288 141.933C124.573 141.392 125.016 140.896 125.616 140.443C130.703 137.619 134.847 134.867 138.048 132.187C139.621 130.872 140.349 129.998 140.233 129.565C140.065 128.94 139.746 128.484 139.274 128.198C138.431 127.685 137.609 127.536 136.808 127.75C136.006 127.965 135.1 128.242 134.091 128.581C133.082 128.92 132.001 129.313 130.849 129.759C128.304 130.716 125.813 131.779 123.376 132.948C123.209 133.8 122.948 134.781 122.592 135.891L121.554 139.52ZM182.561 130.418C182.995 132.037 183.926 132.656 185.353 132.274C186.78 131.891 188.882 129.858 191.66 126.175L193.312 123.876C194.398 122.348 195.574 121.414 196.841 121.074C197.306 120.95 197.645 120.996 197.858 121.214C198.067 121.416 198.223 121.71 198.326 122.094C198.425 122.463 198.458 122.876 198.425 123.331C198.405 123.766 198.334 124.241 198.214 124.754C197.955 125.906 197.653 126.83 197.306 127.524C196.959 128.218 196.531 128.961 196.021 129.75C195.522 130.52 194.917 131.404 194.205 132.403C193.488 133.385 192.682 134.418 191.786 135.5C190.886 136.566 189.961 137.57 189.01 138.512C186.872 140.667 184.984 141.963 183.349 142.401C181.392 142.925 179.676 142.646 178.2 141.563C176.814 140.56 175.769 139.001 175.065 136.886C172.974 140.627 170.531 143.73 167.737 146.197C166.027 147.704 164.49 148.64 163.127 149.005C161.764 149.371 160.527 149.53 159.414 149.485C158.298 149.423 157.267 149.166 156.321 148.715C154.279 147.767 152.926 146.05 152.26 143.564C151.306 140.004 151.661 136.231 153.326 132.245C153.852 131.003 154.51 129.865 155.298 128.829C157.086 126.906 159.182 125.622 161.588 124.978C162.646 124.694 163.488 124.821 164.113 125.358C164.358 125.567 164.536 125.881 164.648 126.297C164.756 126.698 164.762 127.204 164.668 127.813C164.585 128.403 164.455 129.039 164.277 129.723C164.095 130.39 163.879 131.092 163.63 131.83C163.396 132.562 163.191 133.271 163.013 133.954C162.589 135.58 162.461 136.706 162.629 137.331C162.792 137.941 163.089 138.342 163.519 138.536C163.949 138.731 164.421 138.759 164.934 138.621C166.073 138.316 166.97 137.784 167.625 137.024C168.277 136.248 168.899 135.393 169.491 134.461L171.159 131.643L172.742 128.795C173.872 126.791 174.787 125.489 175.485 124.889C176.196 124.269 176.748 123.958 177.143 123.955C177.538 123.952 177.962 124.028 178.415 124.181C178.865 124.319 179.321 124.514 179.784 124.768C180.874 125.37 181.557 125.995 181.833 126.643C181.981 127.067 182.115 127.727 182.235 128.623C182.367 129.499 182.475 130.097 182.561 130.418ZM233.622 110.652C234.344 110.459 234.803 110.731 235.001 111.468C235.314 112.639 234.987 114.497 234.019 117.042C233.345 118.821 231.686 121.483 229.043 125.027C225.888 129.224 223.1 131.647 220.679 132.295C218.851 132.785 217.265 132.385 215.923 131.095C215.112 130.315 214.29 129.075 213.456 127.373L211.728 129.486C206.934 135.136 203.086 138.35 200.183 139.128C197.762 139.777 195.585 139.415 193.653 138.042C191.945 136.798 190.794 135.069 190.201 132.856C189.548 130.419 189.867 128.271 191.156 126.413C193.791 122.648 197.387 119.167 201.944 115.969C203.795 114.665 204.993 113.94 205.538 113.794C206.083 113.648 206.606 113.611 207.107 113.683C207.619 113.735 208.138 113.845 208.664 114.013C209.916 114.451 210.632 115.007 210.813 115.681C210.959 116.226 210.74 116.757 210.157 117.274C209.979 117.443 209.667 117.689 209.221 118.015C208.776 118.341 208.237 118.769 207.606 119.299C205.91 120.733 204.315 122.346 202.818 124.139C201.804 125.614 201.387 126.688 201.568 127.362C201.744 128.019 202.297 128.223 203.227 127.974C203.997 127.768 205.354 126.674 207.298 124.692C207.298 124.692 207.868 124.092 209.007 122.893C210.222 121.588 211.169 120.441 211.849 119.451C211.849 119.451 211.895 118.149 211.988 115.546C212.2 110.883 212.764 106.925 213.679 103.672C215.113 97.221 217.321 93.5957 220.304 92.7965C221.395 92.5043 222.314 92.4728 223.063 92.7018C224.411 93.114 225.203 93.7611 225.439 94.6431C225.671 95.509 225.758 96.4741 225.7 97.5382C225.641 98.6023 225.476 99.6864 225.205 100.79C224.949 101.89 224.612 103.003 224.192 104.13L221.535 110.668C221.082 111.735 220.702 112.756 220.397 113.732C220.004 115.985 219.998 117.826 220.381 119.253C220.931 121.305 221.951 122.132 223.443 121.732C224.293 121.505 225.586 120.204 227.322 117.831L229.515 114.665C230.528 113.122 231.62 111.936 232.79 111.107C233.12 110.864 233.397 110.712 233.622 110.652ZM243.666 109.843C242.746 110.708 241.89 111.616 241.096 112.568C240.303 113.519 239.626 114.457 239.065 115.381C238.505 116.304 238.296 117.031 238.438 117.56C238.579 118.089 239.075 118.24 239.925 118.012C240.519 117.853 241.307 117.332 242.291 116.45L246.769 112.285C247.598 111.53 248.3 110.715 248.873 109.84L250.181 107.891C251.103 106.458 252.23 105.563 253.561 105.206C254.25 105.021 255.043 105.221 255.939 105.806C256.835 106.391 257.39 107.085 257.605 107.887C258.099 109.731 258.076 112.659 257.535 116.671L260.539 112.488L266.821 104.18C267.499 103.311 268.118 102.801 268.68 102.65C269.898 102.324 270.665 102.746 270.978 103.916C271.3 105.119 270.929 106.877 269.865 109.19C269.368 110.286 268.601 111.531 267.566 112.926L256.947 126.599C256.254 127.541 255.713 128.313 255.325 128.916C254.123 132.899 252.751 135.922 251.207 137.986C248.97 140.991 246.641 142.818 244.219 143.467C243.129 143.759 242.157 143.693 241.304 143.269C240.537 142.907 240.059 142.373 239.87 141.668C239.694 141.01 239.679 140.249 239.826 139.385C239.977 138.537 240.245 137.648 240.633 136.72C241.02 135.791 241.489 134.849 242.041 133.893C242.593 132.938 243.199 131.993 243.86 131.06C245.628 128.678 246.895 127.024 247.66 126.097L249.56 123.758C249.961 121.536 250.192 119.188 250.251 116.715C247.886 120.27 245.165 123.294 242.086 125.786C240.548 127.04 239.202 127.822 238.048 128.131C236.893 128.441 235.77 128.484 234.679 128.26C233.588 128.037 232.593 127.625 231.693 127.024C229.823 125.755 228.596 124.03 228.011 121.849C227.401 119.572 227.746 117.426 229.045 115.41C230.999 112.377 234.11 109.361 238.376 106.362C242.479 103.458 246.11 101.582 249.269 100.736C250.312 100.457 250.97 100.83 251.245 101.856C251.434 102.562 251.444 103.144 251.275 103.602C251.117 104.039 250.58 104.57 249.664 105.193C248.765 105.812 247.77 106.526 246.68 107.333C245.606 108.137 244.602 108.973 243.666 109.843ZM299.507 93.1011C300.277 92.8949 300.778 93.2247 301.01 94.0907C301.164 94.668 301.159 95.4513 300.995 96.4407C300.842 97.4098 300.5 98.378 299.968 99.3453C299.433 100.297 298.793 101.31 298.05 102.386C297.323 103.457 296.439 104.614 295.397 105.855C294.37 107.093 293.206 108.359 291.903 109.653C290.599 110.948 289.176 112.18 287.634 113.349C284.222 115.948 280.72 117.728 277.128 118.691C274.386 119.426 271.798 119.354 269.363 118.477C266.814 117.562 265.254 116.037 264.683 113.905C263.785 110.553 264.736 106.887 267.536 102.905C269.951 99.4738 273.076 96.4795 276.911 93.9222C279.245 92.3688 281.302 91.3536 283.082 90.8767C284.525 90.4899 285.838 90.5162 287.021 90.9554C288.286 91.4415 289.092 92.334 289.44 93.6329C289.986 95.6695 288.978 98.3543 286.417 101.688C286.011 102.226 285.636 102.687 285.292 103.072L284.581 103.881C283.278 105.433 281.178 107.345 278.28 109.617C279.433 109.875 280.442 109.888 281.307 109.656C282.189 109.42 282.947 109.105 283.581 108.712C284.231 108.315 284.945 107.805 285.724 107.184C286.503 106.563 287.318 105.854 288.171 105.059C289.035 104.243 289.894 103.377 290.749 102.46C292.659 100.419 294.257 98.4266 295.541 96.4841C296.204 95.43 297.152 94.4797 298.386 93.6334C298.797 93.3688 299.17 93.1914 299.507 93.1011ZM274.787 106.969L275.929 105.941C276.302 105.601 276.631 105.289 276.916 105.007C279.657 102.278 281.194 100.638 281.527 100.084C281.86 99.5312 282.005 99.1744 281.962 99.014C281.915 98.8376 281.813 98.65 281.657 98.4513C281.5 98.2526 281.318 98.0865 281.111 97.9531C280.605 97.6072 280.136 97.4923 279.703 97.6083C279.27 97.7243 278.811 97.9334 278.325 98.2356C277.854 98.5334 277.393 98.8976 276.942 99.328C276.485 99.7424 276.062 100.217 275.673 100.751C275.295 101.265 274.982 101.795 274.733 102.343C274.154 103.581 273.963 104.569 274.161 105.307C274.358 106.044 274.567 106.598 274.787 106.969ZM321.766 88.4258C323.338 88.0047 324.27 88.3394 324.562 89.4298C324.841 90.4722 324.464 92.0168 323.432 94.0638L322.582 95.6064C321.546 97.4481 320.262 99.3301 318.732 101.253C317.218 103.171 315.849 104.732 314.625 105.937C311.772 108.695 308.982 110.439 306.256 111.17C303.691 111.857 301.392 111.648 299.359 110.543C297.608 109.586 296.534 108.369 296.139 106.894C295.744 105.419 295.495 103.913 295.392 102.376C295.29 100.84 295.284 99.3114 295.376 97.7917C295.545 94.7041 295.917 92.0178 296.49 89.7329C296.633 89.1104 296.683 88.7189 296.64 88.5585L293.537 89.39C292.366 89.7036 291.387 89.6738 290.6 89.3004C289.812 88.9271 289.326 88.3957 289.141 87.7061C288.957 87.0166 288.949 86.4771 289.12 86.0876C289.291 85.6981 289.549 85.3797 289.895 85.1322C290.38 84.7616 291.152 84.4345 292.21 84.151L298.11 82.5959C298.226 82.5135 298.39 82.0999 298.603 81.3554L299.393 78.4366C299.718 77.1465 300.122 76.1531 300.606 75.4563C301.105 74.7552 301.78 74.2908 302.63 74.0631C303.496 73.8311 304.239 73.7179 304.859 73.7236C305.495 73.725 306.046 73.7922 306.512 73.9253C307.435 74.2279 307.978 74.6839 308.141 75.2933C308.21 75.5499 308.214 75.9183 308.154 76.3985L307.684 80.0307L319.103 76.9452C320.097 76.6788 320.731 77.0588 321.006 78.0851C321.66 80.5225 319.813 82.3235 315.468 83.4879L306.67 85.8709C306.504 86.0187 306.3 86.5718 306.058 87.5303L305.51 89.8168C305.371 90.3869 305.28 90.8153 305.236 91.102L305.023 92.4224C304.597 95.1317 304.528 97.0236 304.816 98.098C305.104 99.1724 305.625 99.9952 306.38 100.566C307.151 101.133 308.009 101.29 308.955 101.037C309.901 100.783 310.774 100.352 311.573 99.7421C312.388 99.1284 313.158 98.4409 313.882 97.6797C315.191 96.2804 316.183 95.0435 316.858 93.969C317.533 92.8945 318.109 92.0613 318.586 91.4694C318.586 91.4694 319.042 90.9261 319.954 89.8396C320.665 89.0303 321.269 88.559 321.766 88.4258ZM361.078 76.1908C361.591 76.0533 361.964 76.4175 362.196 77.2834C362.595 78.7748 362.071 80.9864 360.622 83.9183L359.625 85.6808C356.584 90.9469 353.413 94.7615 350.11 97.1246C348.061 98.5846 346.414 98.9828 345.171 98.3192C344.142 97.7525 343.154 96.6597 342.204 95.0407L341.066 93.1027L336.787 97.6266L334.28 100.103C331.267 102.973 328.879 104.644 327.115 105.116C324.854 105.722 322.736 105.353 320.76 104.009C318.874 102.744 317.639 101.021 317.055 98.8405C316.479 96.6916 316.823 94.5455 318.088 92.402C319.897 89.3392 323.179 86.0966 327.934 82.6741C332.434 79.4573 336.224 77.4364 339.303 76.6114C340.345 76.3322 341.004 76.7057 341.279 77.732C341.468 78.4375 341.473 79.0032 341.295 79.4291C341.117 79.8549 340.653 80.3661 339.901 80.9627L337.219 83.0737C333.231 86.153 330.466 88.9822 328.923 91.5613C328.48 92.2815 328.329 92.9062 328.471 93.4354C328.613 93.9646 329.109 94.1153 329.959 93.8876C330.792 93.6642 332.492 92.2462 335.058 89.6338L336.738 87.9202C339.335 85.2308 341.676 83.6068 343.76 83.0482C345.524 82.5755 346.903 83.0396 347.897 84.4404C348.153 84.8187 348.403 85.2071 348.648 85.6057C348.888 85.9883 349.117 86.3307 349.336 86.6331C349.835 87.3415 350.197 87.6656 350.421 87.6055C350.662 87.541 350.968 87.3386 351.341 86.998C351.71 86.6415 352.103 86.2181 352.522 85.7278C352.952 85.2172 353.39 84.6702 353.835 84.0868L356.121 80.9737C358.127 78.1331 359.779 76.5388 361.078 76.1908Z"
                        fill="#ABD107" />
                    <path
                        d="M150.923 47.7446C150.871 47.5484 150.876 47.3153 150.938 47.0451C150.999 46.7699 151.079 46.4546 151.178 46.0992L151.93 43.5926C151.93 43.5926 152.22 42.6927 152.8 40.8927C151.715 41.5123 150.848 42.1516 150.2 42.8107C149.975 43.0381 149.797 43.2584 149.665 43.4716C149.402 43.8171 149.167 44.0175 148.961 44.0728C148.583 44.1739 148.35 44.0559 148.259 43.7188C148.219 43.5679 148.21 43.4246 148.233 43.2891C148.261 43.1522 148.298 42.9886 148.344 42.7983C148.395 42.6066 148.455 42.3966 148.523 42.168C148.595 41.9331 148.678 41.6897 148.772 41.438C148.865 41.1812 148.971 40.9318 149.09 40.6898C149.352 40.1396 149.604 39.762 149.846 39.5571C150.087 39.3521 150.356 39.1587 150.653 38.9769C150.953 38.7886 151.311 38.5956 151.727 38.3979C152.688 37.9408 153.76 37.5538 154.942 37.237C157.503 36.5509 159.614 36.3815 161.277 36.7287C162.66 37.0213 163.499 37.7185 163.794 38.8202C163.858 39.0567 163.899 39.3504 163.917 39.7013C163.941 40.0508 163.894 40.5109 163.777 41.0813C163.666 41.6505 163.459 42.2263 163.156 42.8087C162.854 43.3912 162.451 43.9709 161.948 44.5479C161.449 45.1185 160.832 45.6664 160.1 46.1917C158.536 47.3172 156.566 48.198 154.192 48.8343C153.266 49.0823 152.494 49.0681 151.875 48.7918C151.369 48.5716 151.051 48.2226 150.923 47.7446ZM154.377 43.6083C154.295 44.0885 154.246 44.4305 154.231 44.6341C154.214 44.8328 154.22 44.9849 154.248 45.0906C154.276 45.1962 154.336 45.2963 154.426 45.3908C154.519 45.4789 154.641 45.5489 154.789 45.6007C155.126 45.71 155.576 45.6892 156.139 45.5382C156.703 45.3872 157.267 45.1876 157.831 44.9393C158.4 44.6897 158.911 44.4234 159.364 44.1403C159.817 43.8573 160.211 43.5683 160.547 43.2733C160.882 42.9733 161.161 42.6856 161.383 42.4103C161.825 41.8444 162.031 41.3767 162.002 41.007C161.996 40.9224 161.98 40.8349 161.956 40.7443C161.68 39.713 160.382 39.2762 158.063 39.434C157.171 39.4894 156.233 39.6385 155.246 39.8812C154.748 41.8858 154.458 43.1281 154.377 43.6083ZM177.604 36.1471C177.765 36.1039 177.882 36.2182 177.955 36.4899C178.08 36.9577 177.916 37.6516 177.461 38.5714L177.148 39.1243C176.194 40.7764 175.199 41.9732 174.163 42.7145C173.52 43.1726 173.004 43.2975 172.614 43.0893C172.291 42.9115 171.981 42.5687 171.683 42.0608L171.326 41.4528L169.984 42.872L169.197 43.649C168.252 44.5492 167.503 45.0735 166.949 45.2218C166.24 45.4119 165.575 45.2961 164.955 44.8744C164.364 44.4776 163.976 43.937 163.793 43.2528C163.612 42.5787 163.72 41.9054 164.117 41.2329C164.685 40.272 165.714 39.2548 167.206 38.181C168.618 37.1719 169.807 36.5379 170.773 36.279C171.1 36.1914 171.306 36.3086 171.393 36.6306C171.452 36.8519 171.454 37.0294 171.398 37.163C171.342 37.2966 171.196 37.457 170.961 37.6441L170.119 38.3064C168.868 39.2724 168.001 40.16 167.516 40.9692C167.377 41.1951 167.33 41.3911 167.375 41.5571C167.419 41.7232 167.575 41.7704 167.841 41.699C168.103 41.6289 168.636 41.1841 169.441 40.3645L169.968 39.8269C170.783 38.9831 171.517 38.4736 172.171 38.2984C172.725 38.1501 173.157 38.2957 173.469 38.7352C173.549 38.8538 173.628 38.9757 173.705 39.1008C173.78 39.2208 173.852 39.3282 173.92 39.4231C174.077 39.6453 174.19 39.747 174.261 39.7281C174.336 39.7079 174.433 39.6444 174.55 39.5376C174.665 39.4257 174.789 39.2929 174.92 39.1391C175.055 38.9789 175.192 38.8073 175.332 38.6242L176.049 37.6476C176.678 36.7564 177.197 36.2562 177.604 36.1471ZM181.781 31.7522C181.667 31.9121 181.536 32.0551 181.386 32.1815C181.236 32.3028 181.055 32.3917 180.843 32.4483C180.632 32.505 180.419 32.5243 180.204 32.5065C179.989 32.4886 179.791 32.4363 179.612 32.3497C179.222 32.1629 178.97 31.8583 178.857 31.4357C178.683 30.7867 179.097 30.1581 180.099 29.55C180.437 29.3409 180.724 29.2047 180.96 29.1414C181.196 29.078 181.38 29.0585 181.511 29.0828C181.645 29.1008 181.761 29.1424 181.859 29.2077C182.056 29.3383 182.179 29.4942 182.227 29.6753C182.275 29.8514 182.295 30.0184 182.289 30.1765C182.288 30.3331 182.268 30.5002 182.229 30.6778C182.19 30.8553 182.134 31.0375 182.06 31.2245C181.986 31.4115 181.893 31.5874 181.781 31.7522ZM182.106 40.5702C181.776 40.8689 181.445 41.1246 181.114 41.3374C180.784 41.5552 180.443 41.7113 180.091 41.8056C179.744 41.8986 179.359 41.9127 178.938 41.8478C178.519 41.7765 178.127 41.639 177.759 41.4355C176.942 40.9805 176.43 40.3682 176.224 39.5985C176.034 38.8891 176.052 38.1131 176.279 37.2704C176.49 36.5075 176.835 35.822 177.314 35.2139C177.792 34.6057 178.288 34.2329 178.801 34.0954C179.536 33.8986 179.984 33.9997 180.145 34.3988C180.193 34.5205 180.24 34.6644 180.284 34.8304C180.329 34.9964 180.34 35.1983 180.317 35.4362C180.299 35.6678 180.255 35.9085 180.187 36.1586C180.123 36.4022 180.043 36.6474 179.948 36.8941C179.856 37.1344 179.764 37.3558 179.673 37.5582C179.496 37.9452 179.349 38.2301 179.23 38.4127C179.276 38.5838 179.452 38.7255 179.757 38.8379C180.044 38.9442 180.271 38.9751 180.437 38.9307C180.608 38.8848 180.796 38.7913 181.001 38.6502C181.21 38.5077 181.418 38.3361 181.623 38.1356C181.833 37.9337 182.04 37.711 182.245 37.4676C182.454 37.2227 182.657 36.9742 182.854 36.722L183.946 35.2729C184.387 34.7285 184.779 34.4105 185.122 34.3188C185.257 34.2824 185.374 34.3051 185.471 34.3868C185.572 34.4622 185.641 34.5653 185.676 34.6961C185.711 34.8269 185.694 35.0255 185.625 35.292C185.555 35.5534 185.441 35.8535 185.284 36.1922C185.132 36.5296 184.942 36.8903 184.716 37.2744C184.49 37.6585 184.238 38.0442 183.959 38.4317C183.68 38.8192 183.382 39.1982 183.067 39.5686C182.754 39.9327 182.434 40.2666 182.106 40.5702ZM192.765 32.4487C193.087 32.3624 193.284 32.4526 193.355 32.7192C193.443 33.0462 193.351 33.4887 193.08 34.0466C192.633 34.9751 192.065 35.9145 191.376 36.8648C190.25 38.396 189.123 39.3126 187.996 39.6146C187.186 39.8316 186.428 39.6574 185.721 39.0919C184.986 38.5016 184.453 37.5877 184.121 36.3501C183.686 34.7251 183.997 32.7168 185.054 30.3251C185.725 28.8028 186.445 27.6985 187.216 27.0122C187.455 26.7972 187.647 26.6701 187.793 26.631C187.944 26.5906 188.087 26.5793 188.221 26.5973C188.359 26.6089 188.492 26.6433 188.621 26.7005C188.922 26.8407 189.112 27.0567 189.191 27.3485C189.269 27.6403 189.281 28.009 189.228 28.4546C189.174 28.8952 189.054 29.383 188.868 29.918C188.476 31.0528 187.845 32.2086 186.974 33.3856C186.835 34.0108 186.868 34.7083 187.074 35.478C187.167 35.8251 187.365 36.1225 187.669 36.37C187.978 36.6162 188.268 36.703 188.539 36.6302C188.912 36.5304 189.52 35.9548 190.366 34.9034L191.432 33.5096C191.863 32.925 192.307 32.5713 192.765 32.4487ZM194.812 34.1729C194.874 34.4043 195.059 34.4789 195.366 34.3966C195.99 34.2295 196.843 33.1678 197.925 31.2115L198.459 30.2759C198.827 29.6544 199.091 29.3221 199.252 29.279C199.413 29.2359 199.564 29.2251 199.704 29.2467C199.845 29.2684 199.974 29.3092 200.093 29.3691C200.336 29.4926 200.485 29.6549 200.539 29.8562C200.591 30.0524 200.627 30.2773 200.647 30.5309C200.67 30.7781 200.676 31.0623 200.665 31.3834C200.647 31.9813 200.547 32.8035 200.363 33.8502L200.232 34.5971L201.203 33.0913L203.227 30.1388C203.44 29.8661 203.634 29.7062 203.81 29.659C204.192 29.5566 204.433 29.689 204.531 30.0562C204.632 30.4335 204.516 30.9851 204.182 31.7108C204.081 31.9374 203.964 32.1548 203.831 32.3629L202.465 34.3871L199.78 38.2528C199.544 38.6016 199.37 38.8749 199.255 39.0727C199.15 39.4244 199.064 39.6874 198.998 39.8616C198.938 40.0395 198.879 40.2249 198.823 40.4179C198.768 40.6159 198.709 40.7881 198.646 40.9344C198.51 41.2513 198.339 41.4374 198.133 41.4926C197.916 41.5506 197.684 41.5185 197.435 41.3963C196.976 41.1691 196.711 40.9272 196.642 40.6706C196.574 40.414 196.564 40.0958 196.613 39.716C196.664 39.3412 196.744 38.9046 196.853 38.4062L197.662 35.027C197.078 35.9275 196.598 36.5496 196.221 36.8932C195.842 37.2319 195.512 37.4768 195.229 37.6282C194.952 37.7832 194.645 37.9058 194.308 37.9961C193.976 38.0851 193.666 38.0928 193.376 38.0194C193.088 37.9509 192.83 37.8233 192.602 37.6363C192.158 37.2648 191.837 36.7118 191.64 35.9773C191.431 35.1975 191.421 34.3752 191.61 33.5104C191.788 32.6647 192.125 31.9326 192.623 31.314C193.147 30.6558 193.754 30.2344 194.444 30.0497C195.133 29.865 195.55 30.0418 195.694 30.5801C195.784 30.9172 195.632 31.4946 195.236 32.3123C194.839 33.1251 194.698 33.7452 194.812 34.1729Z"
                        fill="#252525" />
                    <path
                        d="M28.4075 84.8074L24.5894 70.558L25.7794 70.2392L29.5975 84.4885L28.4075 84.8074ZM22.4162 76.1097C22.2396 75.4503 22.2536 74.8226 22.4583 74.2266C22.663 73.6307 23.0269 73.1135 23.55 72.6752C24.0806 72.2238 24.7425 71.8919 25.5359 71.6793C26.2983 71.475 26.9936 71.4322 27.6218 71.551C28.2602 71.6671 28.8003 71.931 29.2419 72.3427C29.6938 72.7517 30.0211 73.2934 30.224 73.9679L28.3076 74.4814C28.1489 73.9718 27.8623 73.6234 27.4478 73.4363C27.0435 73.2465 26.5478 73.2302 25.9605 73.3876C25.332 73.556 24.8709 73.8341 24.5773 74.222C24.2809 74.5996 24.199 75.0357 24.3315 75.5302C24.4392 75.932 24.6395 76.2262 24.9324 76.4128C25.2254 76.5993 25.6343 76.683 26.1592 76.6638L28.0442 76.5894C29.0913 76.5407 29.9129 76.7016 30.509 77.0719C31.1024 77.4319 31.5096 78.024 31.7304 78.8483C31.9154 79.5386 31.9083 80.1921 31.7091 80.8086C31.5099 81.4252 31.1347 81.9619 30.5835 82.4188C30.0398 82.8626 29.3507 83.1964 28.5161 83.42C27.7228 83.6326 26.9914 83.685 26.3221 83.5772C25.65 83.4591 25.0776 83.1984 24.6051 82.7949C24.1429 82.3887 23.8118 81.8535 23.6117 81.1893L25.5899 80.6593C25.7355 81.1614 26.0259 81.5032 26.461 81.6848C26.8962 81.8663 27.4331 81.8715 28.0719 81.7004C28.752 81.5182 29.2504 81.2355 29.5674 80.8524C29.892 80.4563 29.9907 80.0212 29.8637 79.5472C29.6539 78.7642 29.0629 78.3925 28.0907 78.4321L26.1944 78.5261C25.1707 78.5796 24.3398 78.4047 23.7017 78.0014C23.0711 77.5851 22.6426 76.9545 22.4162 76.1097ZM33.5893 71.6416L31.1165 72.3042L30.6403 70.5269L34.9986 69.3591L38.0257 80.6566L36.1402 81.1618L33.5893 71.6416ZM41.7816 79.5011L41.9547 79.405C41.8916 79.4992 41.814 79.5808 41.722 79.6496C41.6376 79.7053 41.5284 79.7512 41.3944 79.7871C41.0956 79.8671 40.8118 79.8383 40.543 79.7005C40.2714 79.5524 40.0942 79.3238 40.0114 79.0147C39.912 78.6438 39.9401 78.316 40.0958 78.0313C40.2514 77.7467 40.5044 77.5574 40.8547 77.4636C41.2462 77.3587 41.6043 77.4173 41.9288 77.6396C42.2534 77.8618 42.4806 78.215 42.6103 78.6993C42.7235 79.1217 42.7343 79.5329 42.6427 79.9329C42.5539 80.3432 42.375 80.7059 42.106 81.0209C41.8371 81.3359 41.4983 81.5758 41.0896 81.7405L40.8867 80.9832C41.2205 80.8275 41.4731 80.6163 41.6445 80.3495C41.8187 80.093 41.8644 79.8102 41.7816 79.5011ZM49.0624 67.2803L45.9886 72.1291L44.446 71.5651L47.4293 66.8731L47.3461 67.9224L41.9369 69.3718L41.4689 67.6254L48.64 65.7039L49.0624 67.2803ZM46.1652 72.4793L44.7898 72.8478L44.446 71.5651C44.6004 71.3581 44.8304 71.186 45.136 71.0489C45.4388 70.9015 45.7293 70.7906 46.0075 70.716C46.5433 70.5725 47.0754 70.5182 47.6038 70.5533C48.1322 70.5884 48.6247 70.716 49.0812 70.936C49.5452 71.1429 49.9475 71.4492 50.2881 71.8549C50.626 72.2503 50.8736 72.7416 51.0309 73.3289C51.238 74.1016 51.2371 74.8197 51.0284 75.483C50.8196 76.1463 50.4424 76.7167 49.8967 77.1942C49.3613 77.6689 48.7124 78.0084 47.95 78.2127C47.2081 78.4115 46.4998 78.4467 45.8249 78.3183C45.1575 78.1769 44.5728 77.8698 44.0707 77.397C43.5788 76.9214 43.2238 76.2766 43.0057 75.4627L44.953 74.9409C45.127 75.59 45.4426 76.0465 45.8998 76.3105C46.3646 76.5614 46.9009 76.6055 47.5088 76.4426C48.127 76.2769 48.5718 75.959 48.8434 75.4887C49.1224 75.0053 49.1792 74.4545 49.0135 73.8363C48.8617 73.2696 48.5455 72.8519 48.0648 72.5832C47.5815 72.3041 46.9483 72.2695 46.1652 72.4793ZM51.6177 70.9852C51.303 69.8106 51.224 68.733 51.3809 67.7523C51.5481 66.7689 51.9208 65.9346 52.4992 65.2496C53.0852 64.5515 53.8573 64.074 54.8155 63.8173C55.784 63.5578 56.6913 63.5852 57.5375 63.8996C58.3913 64.2009 59.1312 64.7369 59.7574 65.5078C60.3939 66.2759 60.8695 67.2473 61.1842 68.4218C61.4962 69.5861 61.5789 70.6572 61.4323 71.6351C61.2858 72.613 60.9219 73.4393 60.3407 74.1141C59.7596 74.7888 58.9641 75.2615 57.9544 75.532C56.9653 75.7971 56.0453 75.7841 55.1943 75.4931C54.3536 75.1993 53.6253 74.6656 53.0095 73.892C52.3936 73.1184 51.9297 72.1494 51.6177 70.9852ZM53.565 70.4634C53.7969 71.3289 54.109 72.0403 54.5013 72.5978C54.8909 73.1449 55.3397 73.5216 55.8477 73.7278C56.3529 73.9237 56.8992 73.943 57.4865 73.7856C58.0944 73.6227 58.563 73.3315 58.8923 72.912C59.2291 72.4794 59.4294 71.9288 59.4932 71.2602C59.5543 70.5813 59.4688 69.8091 59.2369 68.9436C58.9967 68.0472 58.6819 67.3255 58.2923 66.7783C57.9 66.2208 57.4498 65.839 56.9418 65.6328C56.4441 65.4238 55.8913 65.4008 55.2834 65.5637C54.6961 65.721 54.2341 66.016 53.8972 66.4486C53.5604 66.8812 53.3614 67.4369 53.3004 68.1159C53.2366 68.7845 53.3248 69.567 53.565 70.4634ZM62.5145 68.0654C62.1998 66.8908 62.1209 65.8132 62.2777 64.8325C62.4449 63.849 62.8177 63.0148 63.3961 62.3298C63.982 61.6317 64.7541 61.1542 65.7123 60.8975C66.6808 60.638 67.5882 60.6654 68.4344 60.9798C69.2881 61.2811 70.0281 61.8171 70.6543 62.588C71.2907 63.3561 71.7663 64.3275 72.0811 65.502C72.393 66.6663 72.4757 67.7374 72.3292 68.7153C72.1826 69.6932 71.8188 70.5195 71.2376 71.1943C70.6564 71.869 69.861 72.3417 68.8513 72.6122C67.8622 72.8773 66.9421 72.8643 66.0911 72.5733C65.2505 72.2795 64.5222 71.7458 63.9063 70.9722C63.2904 70.1986 62.8265 69.2296 62.5145 68.0654ZM64.4618 67.5436C64.6938 68.4091 65.0059 69.1205 65.3982 69.678C65.7877 70.2251 66.2365 70.6018 66.7445 70.808C67.2498 71.0039 67.796 71.0232 68.3833 70.8658C68.9912 70.7029 69.4598 70.4117 69.7891 69.9922C70.126 69.5596 70.3263 69.009 70.3901 68.3404C70.4511 67.6615 70.3657 66.8893 70.1338 66.0238C69.8936 65.1274 69.5787 64.4056 69.1892 63.8585C68.7968 63.301 68.3467 62.9192 67.8387 62.713C67.341 62.504 66.7882 62.481 66.1803 62.6439C65.593 62.8012 65.1309 63.0962 64.7941 63.5288C64.4572 63.9614 64.2583 64.5171 64.1973 65.1961C64.1335 65.8647 64.2217 66.6472 64.4618 67.5436Z"
                        fill="#252525" />
                    <path
                        d="M39.9173 119.726L42.1877 128.199L40.7852 128.575L38.5148 120.102L39.9173 119.726ZM35.7053 126.818L38.0511 120.226L39.6159 119.807L37.237 126.507L35.7053 126.818ZM42.7876 126.312L36.0531 128.116L35.7053 126.818L42.4397 125.014L42.7876 126.312ZM43.4977 125.277C43.3424 124.697 43.3799 124.157 43.6102 123.656C43.8461 123.146 44.2277 122.762 44.7551 122.505L44.8381 122.768C44.3007 122.771 43.8473 122.64 43.478 122.375C43.1164 122.107 42.8704 121.73 42.74 121.243C42.6199 120.795 42.6379 120.368 42.7941 119.962C42.9503 119.555 43.2227 119.197 43.6114 118.885C44.0078 118.572 44.4958 118.338 45.0754 118.183C45.6549 118.027 46.187 117.988 46.6715 118.066C47.1616 118.133 47.5731 118.308 47.9058 118.592C48.2442 118.866 48.4755 119.234 48.5997 119.698C48.7301 120.185 48.7018 120.636 48.5147 121.05C48.3256 121.457 47.9954 121.786 47.5242 122.036L47.4474 121.796C47.8405 121.748 48.209 121.795 48.5529 121.934C48.8947 122.066 49.1854 122.27 49.4248 122.546C49.672 122.819 49.8483 123.153 49.9539 123.547C50.0906 124.057 50.0755 124.541 49.9085 125C49.7473 125.449 49.4512 125.843 49.0202 126.182C48.597 126.519 48.057 126.776 47.4002 126.952C46.7511 127.126 46.1552 127.174 45.6124 127.095C45.0774 127.015 44.624 126.822 44.2521 126.516C43.8858 126.2 43.6343 125.787 43.4977 125.277ZM44.9186 124.784C44.9911 125.055 45.1238 125.272 45.3167 125.435C45.5174 125.597 45.7636 125.697 46.0553 125.734C46.3547 125.77 46.6899 125.738 47.0608 125.639C47.4163 125.544 47.7109 125.407 47.9446 125.228C48.1861 125.047 48.3505 124.842 48.4378 124.611C48.5308 124.371 48.54 124.112 48.4655 123.834C48.3558 123.424 48.1065 123.143 47.7178 122.991C47.3368 122.836 46.8758 122.831 46.3349 122.976C45.794 123.121 45.3933 123.357 45.133 123.683C44.8803 124.008 44.8089 124.375 44.9186 124.784ZM44.1187 121.011C44.2119 121.358 44.4304 121.602 44.7743 121.742C45.1161 121.874 45.5266 121.876 46.0057 121.747C46.4771 121.621 46.8239 121.416 47.0462 121.133C47.2762 120.848 47.3446 120.531 47.2514 120.184C47.1562 119.828 46.9387 119.588 46.5989 119.464C46.2648 119.33 45.8621 119.326 45.3907 119.452C44.9116 119.581 44.5571 119.787 44.3271 120.073C44.095 120.35 44.0255 120.663 44.1187 121.011ZM55.8942 121.856L54.7305 124.838L53.0382 125.292L54.5719 121.465L54.9677 121.458C54.837 121.65 54.6566 121.827 54.4264 121.988C54.2019 122.139 53.9699 122.247 53.7303 122.311C53.1508 122.467 52.6077 122.48 52.1009 122.35C51.5921 122.213 51.1551 121.958 50.7898 121.584C50.4224 121.202 50.1621 120.725 50.0089 120.153C49.8474 119.55 49.8398 118.981 49.986 118.445C50.14 117.906 50.4185 117.447 50.8215 117.065C51.2302 116.674 51.7359 116.398 52.3387 116.236C52.9491 116.073 53.5312 116.066 54.0848 116.216C54.6441 116.356 55.125 116.62 55.5274 117.009C55.9298 117.399 56.2087 117.883 56.364 118.462C56.4551 118.802 56.4985 119.135 56.4942 119.459C56.49 119.783 56.4396 120.136 56.3432 120.518C56.2447 120.892 56.095 121.338 55.8942 121.856ZM54.8424 118.858C54.7492 118.51 54.5979 118.223 54.3884 117.998C54.1789 117.772 53.927 117.621 53.6327 117.542C53.3383 117.464 53.025 117.469 52.6927 117.558C52.3682 117.645 52.0981 117.796 51.8824 118.011C51.6745 118.224 51.5361 118.481 51.4674 118.781C51.3988 119.081 51.411 119.404 51.5042 119.752C51.5953 120.092 51.7456 120.375 51.9551 120.6C52.1625 120.818 52.4095 120.967 52.6961 121.048C52.9905 121.126 53.2999 121.122 53.6245 121.035C53.9645 120.944 54.2384 120.792 54.4464 120.579C54.662 120.364 54.8053 120.11 54.876 119.818C54.9447 119.518 54.9335 119.198 54.8424 118.858ZM64.5947 122.183L58.7211 123.769L58.423 122.656L60.5659 119.573C60.7876 119.257 60.9681 118.972 61.1075 118.72C61.2546 118.465 61.3622 118.233 61.4305 118.024C61.4988 117.815 61.5362 117.615 61.5427 117.423C61.5491 117.23 61.5244 117.03 61.4685 116.821C61.3401 116.342 61.1171 116.005 60.7994 115.808C60.4818 115.612 60.0988 115.573 59.6506 115.693C59.187 115.818 58.8614 116.071 58.6737 116.452C58.4861 116.834 58.4609 117.296 58.5981 117.839L57.126 118.233C56.9681 117.613 56.9517 117.042 57.0768 116.52C57.1999 115.99 57.4523 115.541 57.8343 115.174C58.2141 114.799 58.7016 114.531 59.2966 114.372C59.8993 114.211 60.4471 114.184 60.9399 114.292C61.4383 114.39 61.8622 114.612 62.2114 114.958C62.5607 115.303 62.812 115.762 62.9652 116.333C63.0439 116.627 63.077 116.92 63.0644 117.214C63.0576 117.497 63.0071 117.788 62.9132 118.087C62.8172 118.377 62.6836 118.682 62.5123 119.002C62.3411 119.321 62.1305 119.663 61.8805 120.028L60.2894 122.343L59.635 122.034L64.2251 120.804L64.5947 122.183Z"
                        fill="#252525" />
                    <circle cx="77.8498" cy="113.467" r="1.5" transform="rotate(-15 77.8498 113.467)" fill="#252525" />
                    <circle cx="84.6113" cy="111.656" r="1.5" transform="rotate(-15 84.6113 111.656)" fill="#252525" />
                    <circle cx="91.3728" cy="109.844" r="1.5" transform="rotate(-15 91.3728 109.844)" fill="#252525" />
                    <circle cx="98.1342" cy="108.032" r="1.5" transform="rotate(-15 98.1342 108.032)" fill="#252525" />
                    <circle cx="113.589" cy="103.891" r="1.5" transform="rotate(-15 113.589 103.891)" fill="#252525" />
                    <circle cx="120.351" cy="102.079" r="1.5" transform="rotate(-15 120.351 102.079)" fill="#252525" />
                    <circle cx="127.112" cy="100.267" r="1.5" transform="rotate(-15 127.112 100.267)" fill="#252525" />
                    <circle cx="133.873" cy="98.4557" r="1.5" transform="rotate(-15 133.873 98.4557)" fill="#252525" />
                    <circle cx="149.328" cy="94.3146" r="1.5" transform="rotate(-15 149.328 94.3146)" fill="#252525" />
                    <circle cx="156.09" cy="92.5028" r="1.5" transform="rotate(-15 156.09 92.5028)" fill="#252525" />
                    <circle cx="162.851" cy="90.691" r="1.5" transform="rotate(-15 162.851 90.691)" fill="#252525" />
                    <circle cx="169.613" cy="88.8793" r="1.5" transform="rotate(-15 169.613 88.8793)" fill="#252525" />
                    <path
                        d="M51.9758 179.411L50.2912 179.862L48.8087 174.329L50.4778 173.882C51.0342 173.733 51.5521 173.719 52.0315 173.839C52.5109 173.959 52.9224 174.196 53.266 174.551C53.6083 174.901 53.8532 175.352 54.0009 175.903C54.1486 176.454 54.1625 176.97 54.0425 177.449C53.9262 177.922 53.6905 178.33 53.3354 178.674C52.9853 179.016 52.5322 179.262 51.9758 179.411ZM49.4355 174.443L50.7772 179.451L50.4559 179.272L51.8159 178.907C52.2693 178.786 52.636 178.588 52.916 178.314C53.196 178.04 53.3813 177.712 53.4719 177.329C53.5662 176.939 53.552 176.515 53.4291 176.056C53.3063 175.598 53.1065 175.224 52.83 174.933C52.5586 174.642 52.2313 174.45 51.8481 174.36C51.4687 174.263 51.0498 174.276 50.5913 174.398L49.2467 174.759L49.4355 174.443ZM57.2248 178.104C56.8642 178.2 56.5227 178.204 56.2003 178.113C55.8831 178.022 55.6079 177.85 55.3747 177.597C55.1414 177.345 54.9724 177.023 54.8675 176.632C54.7639 176.245 54.7475 175.885 54.8182 175.552C54.8927 175.212 55.0418 174.923 55.2655 174.687C55.4879 174.445 55.7768 174.276 56.1322 174.181C56.4722 174.09 56.7885 174.085 57.0809 174.167C57.3785 174.247 57.6328 174.403 57.8437 174.633C58.0583 174.858 58.2132 175.147 58.3085 175.503L58.3789 175.765L55.1797 176.623L55.0917 176.232L57.7422 175.522C57.6455 175.161 57.4601 174.902 57.1857 174.743C56.9151 174.579 56.6047 174.543 56.2544 174.637C55.9968 174.706 55.786 174.826 55.622 174.997C55.4631 175.166 55.3619 175.376 55.3182 175.625C55.2731 175.869 55.2906 176.14 55.3707 176.439C55.5032 176.934 55.7194 177.287 56.0192 177.499C56.3242 177.71 56.6879 177.759 57.1103 177.646C57.4143 177.564 57.6469 177.433 57.8081 177.252C57.9694 177.071 58.0504 176.847 58.0511 176.582L58.5611 176.445C58.5681 176.863 58.4583 177.216 58.2315 177.503C58.0034 177.785 57.6678 177.985 57.2248 178.104ZM60.1775 177.213L59.7138 177.338L58.2044 171.704L58.7376 171.561L59.4395 174.181C59.4937 173.868 59.624 173.613 59.8302 173.414C60.0402 173.208 60.3049 173.063 60.6243 172.977C60.9901 172.879 61.3227 172.884 61.622 172.992C61.9251 173.093 62.1837 173.274 62.3977 173.537C62.6169 173.799 62.7768 174.118 62.8776 174.494C62.977 174.865 62.9972 175.218 62.9381 175.554C62.8777 175.885 62.7415 176.17 62.5295 176.409C62.3174 176.648 62.0285 176.817 61.6628 176.915C61.3537 176.998 61.0569 177.003 60.7723 176.93C60.4864 176.852 60.2378 176.686 60.0266 176.434L60.1775 177.213ZM59.7516 175.315C59.8289 175.603 59.9494 175.847 60.1132 176.046C60.2756 176.24 60.4693 176.376 60.6945 176.454C60.9233 176.525 61.1743 176.524 61.4473 176.451C61.7204 176.377 61.9356 176.254 62.0931 176.079C62.2492 175.899 62.3465 175.685 62.385 175.437C62.4273 175.183 62.4098 174.912 62.3325 174.623C62.2552 174.335 62.1354 174.094 61.973 173.9C61.8158 173.704 61.6246 173.568 61.3995 173.49C61.1744 173.412 60.9253 173.41 60.6522 173.483C60.3792 173.556 60.1621 173.684 60.0008 173.865C59.8447 174.045 59.7448 174.259 59.7012 174.508C59.6575 174.758 59.6743 175.026 59.7516 175.315ZM64.2265 176.128L63.2244 172.388L63.7575 172.245L64.7597 175.985L64.2265 176.128ZM63.2117 171.29C63.1035 171.319 63.0004 171.305 62.9025 171.249C62.8045 171.192 62.741 171.11 62.712 171.002C62.683 170.893 62.6968 170.79 62.7534 170.692C62.8086 170.589 62.8902 170.523 62.9984 170.494C63.1066 170.465 63.2104 170.482 63.3097 170.543C63.4129 170.599 63.4789 170.68 63.5079 170.788C63.5369 170.897 63.5205 171 63.4588 171.1C63.4023 171.198 63.3199 171.261 63.2117 171.29ZM64.4522 172.059L66.4767 171.517L66.5968 171.965L64.5723 172.507L64.4522 172.059ZM66.7293 175.458L66.2039 175.599L64.8849 170.676L65.4104 170.535L66.7293 175.458ZM72.7114 173.946C72.1963 174.084 71.7112 174.087 71.2562 173.955C70.8049 173.816 70.4113 173.563 70.0752 173.195C69.7442 172.825 69.5028 172.357 69.351 171.79C69.1992 171.224 69.1767 170.697 69.2837 170.21C69.3892 169.718 69.6086 169.3 69.9418 168.957C70.2736 168.608 70.6971 168.365 71.2122 168.227C71.614 168.119 71.9972 168.097 72.3618 168.159C72.7264 168.222 73.056 168.36 73.3507 168.573C73.644 168.782 73.8764 169.062 74.0479 169.414L73.4529 169.573C73.2268 169.203 72.9262 168.947 72.5512 168.804C72.1762 168.662 71.7698 168.649 71.3319 168.767C70.9301 168.874 70.6008 169.067 70.3442 169.346C70.0913 169.618 69.9268 169.952 69.8507 170.348C69.7783 170.737 69.8049 171.166 69.9306 171.635C70.0534 172.093 70.2468 172.475 70.5106 172.78C70.7745 173.085 71.0846 173.294 71.441 173.408C71.7961 173.518 72.1745 173.518 72.5763 173.411C73.0142 173.293 73.3657 173.08 73.6309 172.772C73.8961 172.463 74.039 172.11 74.0594 171.713L74.6545 171.554C74.6645 171.921 74.5888 172.267 74.4274 172.592C74.2711 172.915 74.0456 173.196 73.7508 173.436C73.4546 173.67 73.1081 173.84 72.7114 173.946ZM76.9694 172.813C76.5727 172.92 76.2334 172.9 75.9515 172.755C75.6748 172.608 75.493 172.372 75.406 172.048C75.3135 171.703 75.3633 171.394 75.5554 171.122C75.7474 170.849 76.0576 170.636 76.4858 170.483L77.6953 170.051L77.6621 169.928C77.5959 169.68 77.5003 169.499 77.3755 169.383C77.2493 169.263 77.1038 169.194 76.9393 169.177C76.7747 169.161 76.5997 169.177 76.4142 169.227C76.0845 169.315 75.8481 169.453 75.7051 169.64C75.5621 169.828 75.5244 170.048 75.592 170.3L75.1052 170.431C75.0375 170.178 75.0433 169.942 75.1224 169.722C75.2015 169.502 75.3431 169.309 75.5473 169.144C75.7515 168.979 76.0056 168.856 76.3096 168.774C76.6032 168.696 76.8746 168.678 77.1237 168.722C77.3715 168.76 77.588 168.868 77.7734 169.045C77.9626 169.215 78.1013 169.465 78.1897 169.795L78.8378 172.213L78.3896 172.333L78.144 171.695C78.0942 171.963 77.9636 172.196 77.7522 172.396C77.5446 172.59 77.2836 172.729 76.9694 172.813ZM76.9771 172.347C77.3737 172.241 77.6465 172.033 77.7952 171.722C77.9439 171.412 77.9644 171.056 77.8568 170.654L77.8029 170.453L76.7207 170.834C76.3787 170.959 76.1497 171.114 76.0338 171.3C75.9179 171.486 75.8876 171.681 75.9428 171.887C76.0035 172.114 76.127 172.266 76.3133 172.343C76.4982 172.415 76.7195 172.416 76.9771 172.347ZM80.8482 167.616L80.9765 168.095L80.6829 168.174C80.3377 168.267 80.0904 168.446 79.941 168.712C79.7966 168.978 79.7728 169.29 79.8694 169.651L80.4409 171.784L79.9077 171.927L78.9056 168.187L79.4078 168.052L79.6509 168.774L79.5968 168.788C79.5834 168.532 79.6572 168.303 79.8181 168.099C79.9776 167.891 80.2016 167.748 80.4901 167.671C80.5467 167.656 80.6041 167.643 80.6622 167.633C80.7202 167.623 80.7822 167.617 80.8482 167.616ZM83.9212 170.951C83.5606 171.047 83.2287 171.045 82.9256 170.944C82.6225 170.843 82.362 170.664 82.1442 170.408C81.9251 170.146 81.7658 169.83 81.6664 169.459C81.5657 169.083 81.5448 168.727 81.6038 168.391C81.6629 168.055 81.7984 167.768 82.0104 167.529C82.2262 167.283 82.5196 167.11 82.8905 167.011C83.1996 166.928 83.4906 166.922 83.7634 166.993C84.0414 167.062 84.2814 167.215 84.4834 167.454L83.7856 164.85L84.3188 164.707L85.8282 170.340L85.3646 170.464L85.1055 169.714C85.0489 170.038 84.9162 170.306 84.7076 170.516C84.4976 170.722 84.2355 170.866 83.9212 170.951ZM83.8835 170.439C84.1617 170.364 84.3795 170.24 84.537 170.065C84.6931 169.885 84.793 169.671 84.8367 169.422C84.879 169.167 84.8615 168.896 84.7842 168.607C84.7069 168.319 84.587 168.078 84.4246 167.884C84.2622 167.69 84.0685 167.554 83.8434 167.476C83.6182 167.399 83.3666 167.397 83.0884 167.472C82.8205 167.543 82.606 167.67 82.4447 167.851C82.2886 168.031 82.1887 168.245 82.145 168.495C82.1065 168.742 82.1259 169.01 82.2032 169.299C82.2805 169.587 82.3985 169.832 82.5571 170.032C82.7195 170.226 82.9132 170.362 83.1383 170.44C83.3672 170.511 83.6156 170.511 83.8835 170.439Z"
                        fill="white" />
                    <path
                        d="M208.575 134.436C208.418 133.848 208.378 133.309 208.457 132.819C208.54 132.327 208.727 131.91 209.016 131.568C209.309 131.219 209.695 130.98 210.174 130.852C210.658 130.722 211.112 130.736 211.535 130.893C211.962 131.043 212.332 131.311 212.645 131.697C212.963 132.081 213.201 132.567 213.358 133.154C213.514 133.736 213.556 134.272 213.483 134.761C213.409 135.249 213.227 135.663 212.937 136C212.646 136.337 212.248 136.574 211.744 136.709C211.249 136.842 210.789 136.835 210.364 136.69C209.943 136.543 209.579 136.276 209.271 135.889C208.963 135.502 208.731 135.018 208.575 134.436ZM209.549 134.175C209.665 134.607 209.821 134.963 210.017 135.242C210.212 135.515 210.436 135.704 210.69 135.807C210.943 135.905 211.216 135.914 211.51 135.836C211.814 135.754 212.048 135.609 212.212 135.399C212.381 135.183 212.481 134.907 212.513 134.573C212.543 134.234 212.501 133.848 212.385 133.415C212.265 132.967 212.107 132.606 211.913 132.332C211.716 132.053 211.491 131.862 211.237 131.759C210.988 131.655 210.712 131.643 210.408 131.725C210.114 131.804 209.883 131.951 209.715 132.167C209.547 132.384 209.447 132.661 209.417 133.001C209.385 133.335 209.429 133.726 209.549 134.175ZM212.887 130.241L216.944 129.153L217.189 130.065L213.132 131.152L212.887 130.241ZM216.283 129.778L217.189 130.065L216.41 135.351L215.382 135.626L216.283 129.778ZM218.783 134.715L217.848 134.966L218.539 128.734L219.482 128.482L218.783 134.715ZM225.153 133L221.237 134.057L221.039 133.316L222.467 131.26C222.615 131.049 222.735 130.859 222.828 130.691C222.926 130.521 222.998 130.367 223.044 130.227C223.089 130.088 223.114 129.955 223.119 129.826C223.123 129.698 223.106 129.565 223.069 129.426C222.983 129.106 222.835 128.881 222.623 128.75C222.411 128.619 222.156 128.594 221.857 128.674C221.548 128.756 221.331 128.925 221.206 129.179C221.081 129.434 221.064 129.742 221.155 130.104L220.174 130.367C220.069 129.953 220.058 129.573 220.141 129.224C220.223 128.871 220.392 128.572 220.646 128.327C220.899 128.077 221.224 127.899 221.621 127.793C222.023 127.685 222.388 127.667 222.717 127.739C223.049 127.805 223.332 127.953 223.564 128.183C223.797 128.413 223.965 128.719 224.067 129.1C224.119 129.296 224.141 129.492 224.133 129.687C224.128 129.876 224.095 130.07 224.032 130.269C223.968 130.463 223.879 130.666 223.765 130.879C223.651 131.092 223.510 131.320 223.344 131.563L222.283 133.106L221.847 132.9L224.907 132.08L225.153 133ZM227.677 132.431C227.285 132.536 226.919 132.552 226.579 132.477C226.242 132.396 225.954 132.236 225.713 131.997C225.476 131.751 225.307 131.438 225.204 131.056L226.178 130.796C226.264 131.115 226.421 131.341 226.649 131.473C226.878 131.605 227.149 131.629 227.464 131.544C227.685 131.485 227.864 131.39 228 131.26C228.14 131.123 228.231 130.958 228.273 130.764C228.32 130.569 228.314 130.359 228.253 130.132C228.195 129.916 228.1 129.737 227.968 129.595C227.84 129.447 227.684 129.348 227.5 129.299C227.315 129.249 227.109 129.254 226.883 129.315C226.666 129.373 226.479 129.475 226.319 129.623C226.164 129.764 226.055 129.923 225.992 130.1L225.069 130.149L224.971 127.003L227.915 126.214L228.160 127.126L225.671 127.792L225.921 127.394L225.947 129.317L225.652 129.545C225.713 129.275 225.85 129.045 226.064 128.855C226.282 128.659 226.548 128.518 226.862 128.434C227.238 128.333 227.587 128.325 227.908 128.411C228.234 128.494 228.512 128.657 228.743 128.899C228.977 129.135 229.144 129.438 229.243 129.809C229.352 130.216 229.358 130.598 229.26 130.955C229.168 131.311 228.986 131.62 228.713 131.88C228.444 132.135 228.099 132.318 227.677 132.431Z"
                        fill="#252525" />
                </g>
                <rect
                    x="0.612372"
                    y="57.0349"
                    width="218"
                    height="149"
                    rx="10.5"
                    transform="rotate(-15 0.612372 57.0349)"
                    stroke="#111111" />
                <defs>
                    <clipPath id="clip0_138_760">
                        <rect
                            y="56.6814"
                            width="219"
                            height="150"
                            rx="11"
                            transform="rotate(-15 0 56.6814)"
                            fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div>

        <!-- ê¸ˆì•¡ í‘œì‹œ -->
        <div
            class="absolute w-[282px] left-[calc(50%-282px/2)] top-[401px] transition-all duration-300 flex items-center justify-center"
            :class="(receiptType === 'expense' && scrolled) ? 'opacity-0 pointer-events-none' : 'opacity-100'">
            <!-- ì§€ì¶œ -->
            <p
                x-show="receiptType === 'expense'"
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                :class="[
        total === 0 ? 'text-[#1B1B1B]' : 'text-[#AF4C4E]',
        (total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
      ]"
                x-text="total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›'"></p>
            <!-- ìˆ˜ì… -->
            <p
                x-show="receiptType === 'income'"
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                :class="[
          manualAmount === 0 ? 'text-[#1B1B1B]' : 'text-[#4CAF50]',
          (manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
        ]"
                x-text="manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›'"></p>
            <!-- ì´ì²´ -->
            <p
                x-show="receiptType === 'transfer'"
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                :class="[
          manualAmount === 0 ? 'text-[#1B1B1B]' : 'text-[#878787]',
          (manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
        ]"
                x-text="manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›'"></p>
        </div>

        <!-- ê²€ì •ìƒ‰ ë°•ìŠ¤ (ì˜ìˆ˜ì¦ ì •ë³´) -->
        <div
            class="absolute w-full left-0 bg-[#1B1B1B] transition-all duration-300"
            :class="receiptType === 'expense' ? (scrolled ? 'h-[800px] top-[264px]' : 'h-[426px] top-[516px]') : 'h-[260px] top-[516px]'">
            <!-- Up Arrow (ì¹´ë“œ ì„ íƒ ë²„íŠ¼) - ì§€ì¶œì¼ ë•Œë§Œ í‘œì‹œ -->
            <div
                x-show="receiptType === 'expense'"
                class="absolute w-[12px] h-[12px] left-[285px] top-[43px] rotate-180 cursor-pointer">
                <svg viewBox="0 0 12 12" fill="none">
                    <path d="M6 2L10 10H2L6 2Z" fill="#F0F0F0" />
                </svg>
            </div>

            <!-- Frame 36 - ì˜ìˆ˜ì¦ ìƒì„¸ ì •ë³´ (ì§€ì¶œ) -->
            <div
                x-show="receiptType === 'expense'"
                class="absolute w-[351px] left-[38px] flex flex-col gap-[17px] p-4 border border-[#4F4F4F] rounded-[5px] transition-all duration-300"
                :class="scrolled ? 'h-[660px] overflow-y-auto' : 'h-[265px] overflow-y-auto'"
                :style="scrolled ? 'top: 12px; max-height: 660px; z-index: 10' : 'top: 23px; max-height: 660px; z-index: 10'">
                <!-- Frame 36: Date -->
                <div class="flex items-center gap-[10px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >Date</span
                    >
                    <input
                        type="date"
                        x-model="receiptDate"
                        class="flex-1 h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-medium text-[14px] focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        style="direction: ltr; text-align: left" />
                    <input
                        type="time"
                        x-model="receiptTime"
                        class="w-[100px] h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-medium text-[14px] focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        style="direction: ltr; text-align: left" />
                </div>

                <!-- Frame 37: Store (ê±°ë˜ì²˜) -->
                <div class="flex items-center gap-[50px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >ê±°ë˜ì²˜</span
                    >
                    <input
                        type="text"
                        x-model="store"
                        class="flex-grow h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-bold text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        placeholder="ê±°ë˜ì²˜/ìƒëŒ€ë°© ì´ë¦„" />
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ (ì§€ì¶œì¼ ë•Œë§Œ) -->
                <div class="flex items-center gap-[50px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >ì¹´í…Œê³ ë¦¬</span
                    >
                    <select
                        x-model="category"
                        class="flex-grow h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-bold text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        style="direction: rtl">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="ì‹ë¹„">ì‹ë¹„</option>
                        <option value="êµí†µ">êµí†µ</option>
                        <option value="ì‡¼í•‘">ì‡¼í•‘</option>
                        <option value="ì—¬ê°€">ì—¬ê°€</option>
                        <option value="ì˜ë£Œ">ì˜ë£Œ</option>
                        <option value="ì£¼ê±°">ì£¼ê±°</option>
                        <option value="í†µì‹ ">í†µì‹ </option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                </div>

                <!-- Frame 40: Total -->
                <div class="flex items-center gap-[50px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-grow"
                        >Total</span
                    >
                    <span
                        class="font-satoshi font-bold text-[14px] leading-[19px] text-[#F0F0F0]"
                        x-text="formatNumber(total) + 'ì›'"></span>
                </div>

                <!-- ìƒí’ˆ í•­ëª© ë¦¬ìŠ¤íŠ¸ -->
                <div>
                    <template x-for="(product, index) in products" :key="product.id">
                        <div
                            class="relative h-[19px] mb-4 select-none"
                            x-data="{
            startX: 0,
            currentX: 0,
            isDragging: false,
            handleStart(e) {
              this.startX = e.touches ? e.touches[0].clientX : e.clientX;
              this.isDragging = true;
            },
            handleMove(e) {
              if (!this.isDragging) return;
              this.currentX = e.touches ? e.touches[0].clientX : e.clientX;
              const diff = this.startX - this.currentX;
              const absDiff = Math.abs(diff);

              if (absDiff > 10) {
                e.preventDefault();
              }

              if (diff > 50) {
                product.swipedLeft = true;
              } else if (diff < -50) {
                product.swipedLeft = false;
              }
            },
            handleEnd() {
              this.isDragging = false;
            }
          }"
                            @mousedown="handleStart($event)"
                            @mousemove="handleMove($event)"
                            @mouseup="handleEnd()"
                            @mouseleave="handleEnd()"
                            @touchstart.passive="handleStart($event)"
                            @touchmove="handleMove($event)"
                            @touchend.passive="handleEnd()">
                            <div
                                class="flex items-center gap-[8px] transition-transform duration-300 absolute left-0 w-full"
                                :style="product.swipedLeft ? 'transform: translateX(-43px)' : ''">
                                <input
                                    type="text"
                                    x-model="product.name"
                                    class="flex-1 min-w-[40px] h-[19px] bg-transparent border-b border-[#4F4F4F] text-[#878787] font-satoshi font-medium text-[14px] focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0] pointer-events-auto"
                                    placeholder="ìƒí’ˆëª…"
                                    @focus="product.swipedLeft = false" />
                                <input
                                    type="number"
                                    x-model="product.quantity"
                                    min="0"
                                    inputmode="numeric"
                                    class="w-[45px] flex-shrink-0 h-[19px] bg-transparent border-b border-[#4F4F4F] text-[#878787] font-satoshi font-medium text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0] pointer-events-auto"
                                    placeholder="ìˆ˜ëŸ‰"
                                    @focus="product.swipedLeft = false" />
                                <input
                                    type="number"
                                    x-model="product.unitPrice"
                                    min="0"
                                    inputmode="numeric"
                                    class="flex-1 min-w-[45px] h-[19px] bg-transparent border-b border-[#4F4F4F] text-[#878787] font-satoshi font-bold text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0] pointer-events-auto"
                                    placeholder="ë‹¨ê°€"
                                    @focus="product.swipedLeft = false" />
                                <span
                                    class="min-w-[65px] font-satoshi font-bold text-[14px] leading-[19px] text-[#F0F0F0] text-right whitespace-nowrap"
                                    x-text="formatNumber(subtotal(product))"></span>
                            </div>
                            <!-- ì‚­ì œ ë²„íŠ¼ -->
                            <button
                                @click="removeProduct(product.id)"
                                class="absolute right-0 top-0 transition-opacity duration-300"
                                :class="product.swipedLeft ? 'opacity-100' : 'opacity-0 pointer-events-none'">
                                <svg
                                    width="33"
                                    height="19"
                                    viewBox="0 0 33 19"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <rect
                                        x="1.5"
                                        y="1.5"
                                        width="30"
                                        height="16"
                                        rx="8"
                                        stroke="#AF4C4E"
                                        stroke-width="3" />
                                    <path d="M14.246 10.496V8.496H18.774V10.496H14.246Z" fill="#AF4C4E" />
                                </svg>
                            </button>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Add ë²„íŠ¼ (ì§€ì¶œì¼ ë•Œë§Œ í‘œì‹œ) -->
            <div x-show="receiptType === 'expense'">
                <button
                    @click="addProduct()"
                    class="absolute w-[83px] h-[26px] left-[calc(50%-83px/2+0.5px)] border-[3px] border-[#4CAF50] rounded-[20px] flex items-center justify-center transition-all duration-300"
                    :class="scrolled ? 'top-[690px]' : 'top-[300px]'">
                    <span class="font-montserrat font-bold text-[16px] leading-[20px] text-[#4CAF50]">Add</span>
                </button>
            </div>

            <!-- Frame 36 - ì˜ìˆ˜ì¦ ìƒì„¸ ì •ë³´ (ìˆ˜ì…/ì´ì²´) -->
            <div
                x-show="receiptType !== 'expense'"
                class="absolute w-[351px] left-[38px] flex flex-col gap-[20px] p-4 border border-[#4F4F4F] rounded-[5px]"
                style="top: 23px; z-index: 10">
                <!-- Frame 36: Date -->
                <div class="flex items-center gap-[10px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >Date</span
                    >
                    <input
                        type="date"
                        x-model="receiptDate"
                        class="flex-1 h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-medium text-[14px] focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        style="direction: ltr; text-align: left" />
                    <input
                        type="time"
                        x-model="receiptTime"
                        class="w-[80px] h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-medium text-[14px] focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        style="direction: ltr; text-align: left" />
                </div>

                <!-- Frame 37: Store -->
                <div class="flex items-center gap-[50px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >ê±°ë˜ì²˜</span
                    >
                    <input
                        type="text"
                        x-model="store"
                        class="flex-grow h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-bold text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        placeholder="ê±°ë˜ì²˜/ìƒëŒ€ë°© ì´ë¦„" />
                </div>

                <!-- Amount -->
                <div class="flex items-center gap-[50px]">
                    <span class="font-satoshi font-medium text-[14px] leading-[19px] text-[#F0F0F0] flex-shrink-0"
                        >ê¸ˆì•¡</span
                    >
                    <input
                        type="number"
                        x-model="manualAmount"
                        class="flex-grow h-[24px] bg-transparent border-b border-[#878787] text-[#878787] font-satoshi font-bold text-[14px] text-right focus:outline-none focus:border-[#B4DE00] focus:text-[#F0F0F0]"
                        placeholder="ê¸ˆì•¡ ì…ë ¥" />
                </div>
            </div>
        </div>

        <!-- í™•ì¸ ë²„íŠ¼ (í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°) - í•˜ë‹¨ ê³ ì • -->
        <div
            x-show="!showSuccess"
            class="fixed bottom-0 left-0 right-0 max-w-[428px] mx-auto px-4 py-4 z-50 bg-[#1B1B1B] flex items-center justify-center">
            <button
                @click="submitReceipt()"
                class="w-full h-[44px] bg-[#B4DE00] border border-[#111111] rounded-[70px] flex items-center justify-center">
                <span class="font-satoshi font-medium text-[16px] leading-none text-[#111111]"> Done </span>
            </button>
        </div>
    </div>

    <!-- ì„±ê³µ í˜ì´ì§€ -->
    <div x-show="showSuccess" class="relative w-full h-screen" style="background: #ffffff">
        <!-- credit card í…ìŠ¤íŠ¸ -->
        <p
            class="absolute w-[88px] h-[24px] left-[calc(50%-88px/2)] top-[119px] font-satoshi font-medium text-[18px] leading-[24px] text-center text-[#111111]">
            credit card
        </p>

        <!-- ê¸ˆì•¡ í‘œì‹œ -->
        <div class="absolute w-[350px] left-[calc(50%-350px/2)] top-[220px] flex items-center justify-center">
            <p
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                x-show="receiptType === 'expense'"
                :class="[
          total === 0 ? 'text-[#1B1B1B]' : 'text-[#AF4C4E]',
          (total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
        ]"
                x-text="total === 0 ? '0ì›' : '-' + formatNumber(total) + 'ì›'"></p>
            <p
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                x-show="receiptType === 'income'"
                :class="[
          manualAmount === 0 ? 'text-[#1B1B1B]' : 'text-[#4CAF50]',
          (manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
        ]"
                x-text="manualAmount === 0 ? '0ì›' : '+' + formatNumber(manualAmount) + 'ì›'"></p>
            <p
                class="font-yidstreet font-bold text-center whitespace-nowrap"
                x-show="receiptType === 'transfer'"
                :class="[
          manualAmount === 0 ? 'text-[#1B1B1B]' : 'text-[#878787]',
          (manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›').length > 10 ? 'text-[32px] leading-[42px]' : (manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›').length > 8 ? 'text-[40px] leading-[52px]' : 'text-[48px] leading-[62px]'
        ]"
                x-text="manualAmount === 0 ? '0ì›' : formatNumber(manualAmount) + 'ì›'"></p>
        </div>

        <!-- ì¹´í…Œê³ ë¦¬ (ì§€ì¶œì¼ ë•Œë§Œ í‘œì‹œ) -->
        <p
            x-show="receiptType === 'expense'"
            class="absolute w-[64px] h-[42px] left-[calc(50%-64px/2)] top-[300px] font-yidstreet font-bold text-[32px] leading-[42px] text-[#000000]"
            x-text="category"></p>

        <!-- ê±°ë˜ì²˜ -->
        <p
            class="absolute w-[350px] left-[calc(50%-350px/2)] font-yidstreet font-bold text-center break-words"
            :class="[
        receiptType === 'expense' ? 'top-[360px]' : 'top-[300px]',
        store ? 'text-[#1B1B1B]' : 'text-[#878787]',
        (store || 'ê±°ë˜ì²˜').length > 10 ? 'text-[32px] leading-[42px]' : (store || 'ê±°ë˜ì²˜').length > 6 ? 'text-[42px] leading-[56px]' : 'text-[52px] leading-[68px]'
      ]"
            x-text="store || 'ê±°ë˜ì²˜'"></p>

        <!-- ë‚ ì§œ/ì‹œê°„ -->
        <p
            class="absolute w-[285px] left-[calc(50%-285px/2+0.5px)] top-[480px] font-yidstreet font-bold text-center"
            :class="[
        (receiptDate || receiptTime) ? 'text-[#1B1B1B]' : 'text-[#878787]',
        receiptDate && receiptTime ? 'text-[32px] leading-[42px] whitespace-pre-line' : 'text-[40px] leading-[52px] whitespace-nowrap'
      ]"
            x-text="receiptDate && receiptTime ? receiptDate + '\n' + receiptTime : (receiptDate ? receiptDate : (receiptTime ? receiptTime : 'ì‹œê°„ ë¯¸ì‘ì„±'))"></p>

        <!-- Footer ë²„íŠ¼ -->
        <div class="fixed bottom-0 left-0 right-0 max-w-[428px] mx-auto pb-4 px-4 z-50" style="background: transparent">
            <!-- Done ë²„íŠ¼ -->
            <div class="flex justify-center w-full px-4">
                <button
                    @click="window.location.href = '/transactions'"
                    class="h-[54px] w-full bg-[#B4DE00] border border-[#111111] rounded-[70px] flex items-center justify-center">
                    <span class="font-satoshi font-medium text-[16px] text-[#111111]"> Done </span>
                </button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
